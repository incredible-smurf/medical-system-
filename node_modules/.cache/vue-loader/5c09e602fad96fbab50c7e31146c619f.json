{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vue try\\system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vue try\\system\\src\\page\\register\\newregister.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vue try\\system\\src\\page\\register\\newregister.vue","mtime":1606548533782},{"path":"C:\\Users\\Administrator\\Desktop\\vue try\\system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vue try\\system\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vue try\\system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vue try\\system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgcXMgZnJvbSAncXMnDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgLy/mo4Dmn6Xlp5PlkI3mmK/lkKbkuLrnqboNCiAgICBsZXQgY2hlY2tuYW1lPShydWxlLHZhbHVlLGNhbGxiYWNrKT0+ew0KICAgICAgaWYodmFsdWU9PScnKQ0KICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLlp5PlkI3kuI3og73kuLrnqboiKSkNCiAgICAgIGVsc2UNCiAgICAgIGNhbGxiYWNrKCkNCiAgICB9DQogICAgLy/mo4Dmn6XnlLXor53lj7fnoIHmmK/lkKblj6rmmK/mlbDlrZcgKOWPr+S7peS4jeWhqykNCiAgICBsZXQgY2hlY2tQaG9uZT0ocnVsZSx2YWx1ZSxjYWxsYmFjayk9Pg0KICAgIHsNCiAgICAgIGZvcihsZXQgaSA9MDtpPHZhbHVlLmxlbmd0aDtpKyspDQogICAgICB7DQogICAgICAgIGlmKHZhbHVlW2ldPic5J3x8dmFsdWVbaV08JzAnKQ0KICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIueUteivneWPt+eggeWPquiDveS4uuaVsOWtlyIpKQ0KICAgICAgfQ0KICAgICAgY2FsbGJhY2soKQ0KICAgIH0NCiAgICANCg0KICAgIHJldHVybiB7DQogICAgICBsYWJlbFBvc2l0aW9uOiAncmlnaHQnLA0KICAgICAgLy/mj5DkuqTooajljZUNCiAgICAgIGZvcm06IHsgbmFtZTogIiIsIHNleDogIiIsIHBob25lTnVtYmVyOiAiIiwgYWRkcmVzczogIiIgfSwNCiAgICAgIC8v5qOA5p+l6KeE5YiZDQogICAgICBydWxlczp7DQogICAgICAgIG5hbWU6W3t2YWxpZGF0b3I6Y2hlY2tuYW1lLCB0cmlnZ2VyOiAnYmx1cid9XSwNCiAgICAgICAgc2V4Olt7cmVxdWlyZWQ6dHJ1ZSxtZXNzYWdlOiAn6K+36YCJ5oup55eF5Lq65oCn5YirJywgdHJpZ2dlcjogJ2NoYW5nZSd9XSwNCiAgICAgICAgcGhvbmVOdW1iZXI6W3t2YWxpZGF0b3I6Y2hlY2tQaG9uZSwgdHJpZ2dlcjogJ2JsdXInfV0NCiAgICAgIH0NCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy/liJvlu7rnl4Xkurrkv6Hmga/mj5DkuqQNCiAgICBxdWVyeWZvcmNyZWF0ZSh0YWJsZSkgew0KICAgICAgbGV0IF90aGlzPXRoaXMNCiAgICAgIHRoaXMuJHJlZnNbdGFibGVdLnZhbGlkYXRlKCh2YWxpZCk9PnsNCiAgICAgICAgaWYodmFsaWQpDQogICAgICAgIHsNCiAgICAgICAgICB0aGlzLiRheGlvcy5kZWZhdWx0cy5oZWFkZXJzLkF1dGhvcml6YXRpb249J1Rva2VuICcrdGhpcy4kc3RvcmUuc3RhdGUuQXV0aG9yaXphdGlvbg0KICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJy9wYXRpZW50Q3JlYXRlLycsX3RoaXMuZm9ybSkNCiAgICAgICAgICAudGhlbihyZXM9PnsNCiAgICAgICAgICAgIGFsZXJ0KCLnl4Xkurrkv6Hmga/liJvlu7rmiJDlip8iKQ0KICAgICAgICAgIH0pLmNhdGNoKGVycj0+e2FsZXJ0KGVycil9KQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["newregister.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"newregister.vue","sourceRoot":"src/page/register","sourcesContent":["<template>\r\n  <!-- 新建病人信息 -->\r\n  <el-main>\r\n    <!-- 信息表单 -->\r\n    <el-form ref=\"patientcreate\" :model=\"form\" label-width=\"80px\" :label-position=\"labelPosition\" :rules=\"rules\" >\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"8\" :offset=\"2\">\r\n          <el-form-item label=\"病人姓名\"\r\n            prop=\"name\"><el-input\r\n              v-model=\"form.name\"\r\n              placeholder=\"请输入病人姓名\"\r\n              clearable\r\n            ></el-input\r\n          ></el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\" :offset=\"0\">\r\n          <el-form-item label=\"病人性别\" prop=\"sex\">\r\n            <el-select v-model=\"form.sex\" placeholder=\"请选择病人性别\">\r\n              <el-option label=\"男\" value=\"male\"></el-option>\r\n              <el-option label=\"女\" value=\"female\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row type=\"flex\" class=\"buttonquery\" :gutter=\"20\">\r\n        <el-col :span=\"8\" :offset=\"2\">\r\n          <el-form-item label=\"电话\" prop=\"phoneNumber\"\r\n            ><el-input\r\n              placeholder=\"请输入病人电话\"\r\n              v-model=\"form.phoneNumber\"\r\n              clearable\r\n            ></el-input\r\n          ></el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"地址\" prop=\"address\">\r\n            <el-input placeholder=\"请输入病人地址\" v-model=\"form.address\" clearable/>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row type=\"flex\" class=\"buttonquery\" justify=\"center\" :gutter=\"10\">\r\n        <el-col :span=\"6\">\r\n          <el-button @click=\"queryforcreate('patientcreate')\">新建病人信息</el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      \r\n    </el-form>\r\n  </el-main>\r\n</template>\r\n\r\n<script>\r\nimport qs from 'qs'\r\nexport default {\r\n  data() {\r\n    //检查姓名是否为空\r\n    let checkname=(rule,value,callback)=>{\r\n      if(value=='')\r\n      callback(new Error(\"姓名不能为空\"))\r\n      else\r\n      callback()\r\n    }\r\n    //检查电话号码是否只是数字 (可以不填)\r\n    let checkPhone=(rule,value,callback)=>\r\n    {\r\n      for(let i =0;i<value.length;i++)\r\n      {\r\n        if(value[i]>'9'||value[i]<'0')\r\n        callback(new Error(\"电话号码只能为数字\"))\r\n      }\r\n      callback()\r\n    }\r\n    \r\n\r\n    return {\r\n      labelPosition: 'right',\r\n      //提交表单\r\n      form: { name: \"\", sex: \"\", phoneNumber: \"\", address: \"\" },\r\n      //检查规则\r\n      rules:{\r\n        name:[{validator:checkname, trigger: 'blur'}],\r\n        sex:[{required:true,message: '请选择病人性别', trigger: 'change'}],\r\n        phoneNumber:[{validator:checkPhone, trigger: 'blur'}]\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    //创建病人信息提交\r\n    queryforcreate(table) {\r\n      let _this=this\r\n      this.$refs[table].validate((valid)=>{\r\n        if(valid)\r\n        {\r\n          this.$axios.defaults.headers.Authorization='Token '+this.$store.state.Authorization\r\n          this.$axios.post('/patientCreate/',_this.form)\r\n          .then(res=>{\r\n            alert(\"病人信息创建成功\")\r\n          }).catch(err=>{alert(err)})\r\n        }\r\n      })\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.buttonquery {\r\n  margin-top: 30px;\r\n}\r\n</style>"]}]}