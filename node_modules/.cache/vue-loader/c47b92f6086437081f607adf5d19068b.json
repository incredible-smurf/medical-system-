{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vue try\\system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vue try\\system\\src\\page\\dati\\query.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vue try\\system\\src\\page\\dati\\query.vue","mtime":1606568196533},{"path":"C:\\Users\\Administrator\\Desktop\\vue try\\system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vue try\\system\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vue try\\system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vue try\\system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRlbXBsYXRlbGlzdDogW10sDQogICAgICAvL+aVsOaNruaAu+mHjw0KICAgICAgdG90YWxzaXplOiAwLA0KICAgICAgLy/nrKzlh6DpobUNCiAgICAgIGN1cnJlbnRQYWdlOiAxLA0KICAgICAgLy8g5q+P6aG15aSa5bCR5p2hDQogICAgICBwYWdlU2l6ZTogMTAsDQogICAgfTsNCiAgfSwNCiAgLy/or7fmsYLnrKzkuIDpobXmlbDmja4NCiAgYmVmb3JlQ3JlYXRlKCkgew0KICAgIHRoaXMuJGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9DQogICAgICAiVG9rZW4gIiArIHRoaXMuJHN0b3JlLnN0YXRlLkF1dGhvcml6YXRpb247DQogICAgdGhpcy4kYXhpb3MNCiAgICAgIC5nZXQoIi9ncm9zc1JlcG9ydExDLyIpDQogICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgIC8vY29uc29sZS5sb2cocmVzKTsNCiAgICAgICAgdGhpcy50b3RhbHNpemUgPSByZXMuZGF0YS5jb3VudDsNCiAgICAgICAgZm9yIChsZXQgaSBpbiByZXMuZGF0YS5yZXN1bHRzKSB7DQogICAgICAgICAgbGV0IHRtcCA9IHt9Ow0KICAgICAgICAgIHRtcC5pZCA9IHJlcy5kYXRhLnJlc3VsdHNbaV0uaWQ7DQogICAgICAgICAgdG1wLmxhYmVsID0gcmVzLmRhdGEucmVzdWx0c1tpXS5wYXRpZW50Ow0KICAgICAgICAgIHRtcC5kb2MgPSByZXMuZGF0YS5yZXN1bHRzW2ldLmRvY3Rvck5hbWU7DQogICAgICAgICAgdGhpcy50ZW1wbGF0ZWxpc3QucHVzaCh0bXApOw0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgYWxlcnQoZXJyKTsNCiAgICAgIH0pOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy/nv7vpobXmjqfliLYNCiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgew0KICAgICAgLy/orqHnrpfkvY3np7sNCiAgICAgIHRoaXMucGFnZVNpemUgPSB2YWw7DQogICAgICBsZXQgcGFybWFzX3NlbmQgPSB7DQogICAgICAgIG9mZnNldDogKHRoaXMuY3VycmVudFBhZ2UgLSAxKSAqIHRoaXMucGFnZVNpemUsDQogICAgICAgIGxpbWl0OiB0aGlzLnBhZ2VTaXplLA0KICAgICAgICAvL3NlYXJjaDogdGhpcy4kc3RvcmUuc3RhdGUudXNlcnByb2ZpbGUubmFtZSwNCiAgICAgIH07DQogICAgICB0aGlzLiRheGlvcy5kZWZhdWx0cy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPQ0KICAgICAgICAiVG9rZW4gIiArIHRoaXMuJHN0b3JlLnN0YXRlLkF1dGhvcml6YXRpb247DQogICAgICB0aGlzLiRheGlvcw0KICAgICAgICAuZ2V0KCIvZ3Jvc3NSZXBvcnRMQy8iLCB7IHBhcmFtczogcGFybWFzX3NlbmQgfSkNCiAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIHRoaXMudGVtcGxhdGVsaXN0ID0gW107DQogICAgICAgICAgdGhpcy50b3RhbHNpemUgPSByZXMuZGF0YS5jb3VudDsNCiAgICAgICAgICBmb3IgKGxldCBpIGluIHJlcy5kYXRhLnJlc3VsdHMpIHsNCiAgICAgICAgICAgIGxldCB0bXAgPSB7fTsNCiAgICAgICAgICAgIHRtcC5pZCA9IHJlcy5kYXRhLnJlc3VsdHNbaV0uaWQ7DQogICAgICAgICAgICB0bXAubGFiZWwgPSByZXMuZGF0YS5yZXN1bHRzW2ldLnBhdGllbnQ7DQogICAgICAgICAgICB0bXAuZG9jID0gcmVzLmRhdGEucmVzdWx0c1tpXS5kb2N0b3JOYW1lOw0KICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZWxpc3QucHVzaCh0bXApOw0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICBhbGVydChlcnIpOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIC8v5Y2V6aG15pi+56S65pWw6YeP5o6n5Yi2DQogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsNCiAgICAgIC8v6K6h566X5L2N56e7DQogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdmFsOw0KICAgICAgbGV0IHBhcm1hc19zZW5kID0gew0KICAgICAgICBvZmZzZXQ6ICh0aGlzLmN1cnJlbnRQYWdlIC0gMSkgKiB0aGlzLnBhZ2VTaXplLA0KICAgICAgICBsaW1pdDogdGhpcy5wYWdlU2l6ZSwNCiAgICAgICAgLy9zZWFyY2g6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJwcm9maWxlLm5hbWUsDQogICAgICB9Ow0KDQogICAgICB0aGlzLiRheGlvcy5kZWZhdWx0cy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPQ0KICAgICAgICAiVG9rZW4gIiArIHRoaXMuJHN0b3JlLnN0YXRlLkF1dGhvcml6YXRpb247DQogICAgICB0aGlzLiRheGlvcw0KICAgICAgICAuZ2V0KCIvZ3Jvc3NSZXBvcnRMQy8iLCB7IHBhcmFtczogcGFybWFzX3NlbmQgfSkNCiAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIHRoaXMudGVtcGxhdGVsaXN0ID0gW107DQogICAgICAgICAgZm9yIChsZXQgaSBpbiByZXMuZGF0YS5yZXN1bHRzKSB7DQogICAgICAgICAgICBsZXQgdG1wID0ge307DQogICAgICAgICAgICB0bXAuaWQgPSByZXMuZGF0YS5yZXN1bHRzW2ldLmlkOw0KICAgICAgICAgICAgdG1wLmxhYmVsID0gcmVzLmRhdGEucmVzdWx0c1tpXS5wYXRpZW50Ow0KICAgICAgICAgICAgdG1wLmRvYyA9IHJlcy5kYXRhLnJlc3VsdHNbaV0uZG9jdG9yTmFtZTsNCiAgICAgICAgICAgIHRoaXMudGVtcGxhdGVsaXN0LnB1c2godG1wKTsNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy50b3RhbHNpemUgPSByZXMuZGF0YS5jb3VudDsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICBhbGVydChlcnIpOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIC8v6Lez6L2s6K+m5oOF55WM6Z2iDQogICAgaGFuZGxlRWRpdChpbmRleCwgcm93KSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgIHBhdGg6ICIvZGF0aS9zaG93ZGF0aWRldGFpbCIsDQogICAgICAgIHF1ZXJ5OiB7IGlkOiByb3cuaWQgfSwNCiAgICAgIH0pOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["query.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"query.vue","sourceRoot":"src/page/dati","sourcesContent":["<template>\r\n  <el-main>\r\n    <!-- 大体报告查看 -->\r\n    <el-table :data=\"templatelist\" style=\"width: 100%\">\r\n      <el-table-column label=\"大体报告ID\" prop=\"id\"> </el-table-column>\r\n      <el-table-column label=\"病人姓名\" prop=\"label\"> </el-table-column>\r\n      <el-table-column label=\"医生姓名\" prop=\"doc\"> </el-table-column>\r\n      <el-table-column align=\"right\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\"\r\n            >查看详情</el-button\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页符 -->\r\n    <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"currentPage\"\r\n      :page-sizes=\"[10, 20, 50]\"\r\n      :page-size=\"pageSize\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"totalsize\"\r\n    >\r\n    </el-pagination>\r\n  </el-main>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      templatelist: [],\r\n      //数据总量\r\n      totalsize: 0,\r\n      //第几页\r\n      currentPage: 1,\r\n      // 每页多少条\r\n      pageSize: 10,\r\n    };\r\n  },\r\n  //请求第一页数据\r\n  beforeCreate() {\r\n    this.$axios.defaults.headers.Authorization =\r\n      \"Token \" + this.$store.state.Authorization;\r\n    this.$axios\r\n      .get(\"/grossReportLC/\")\r\n      .then((res) => {\r\n        //console.log(res);\r\n        this.totalsize = res.data.count;\r\n        for (let i in res.data.results) {\r\n          let tmp = {};\r\n          tmp.id = res.data.results[i].id;\r\n          tmp.label = res.data.results[i].patient;\r\n          tmp.doc = res.data.results[i].doctorName;\r\n          this.templatelist.push(tmp);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        alert(err);\r\n      });\r\n  },\r\n  methods: {\r\n    //翻页控制\r\n    handleSizeChange(val) {\r\n      //计算位移\r\n      this.pageSize = val;\r\n      let parmas_send = {\r\n        offset: (this.currentPage - 1) * this.pageSize,\r\n        limit: this.pageSize,\r\n        //search: this.$store.state.userprofile.name,\r\n      };\r\n      this.$axios.defaults.headers.Authorization =\r\n        \"Token \" + this.$store.state.Authorization;\r\n      this.$axios\r\n        .get(\"/grossReportLC/\", { params: parmas_send })\r\n        .then((res) => {\r\n          this.templatelist = [];\r\n          this.totalsize = res.data.count;\r\n          for (let i in res.data.results) {\r\n            let tmp = {};\r\n            tmp.id = res.data.results[i].id;\r\n            tmp.label = res.data.results[i].patient;\r\n            tmp.doc = res.data.results[i].doctorName;\r\n            this.templatelist.push(tmp);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          alert(err);\r\n        });\r\n    },\r\n    //单页显示数量控制\r\n    handleCurrentChange(val) {\r\n      //计算位移\r\n      this.currentPage = val;\r\n      let parmas_send = {\r\n        offset: (this.currentPage - 1) * this.pageSize,\r\n        limit: this.pageSize,\r\n        //search: this.$store.state.userprofile.name,\r\n      };\r\n\r\n      this.$axios.defaults.headers.Authorization =\r\n        \"Token \" + this.$store.state.Authorization;\r\n      this.$axios\r\n        .get(\"/grossReportLC/\", { params: parmas_send })\r\n        .then((res) => {\r\n          this.templatelist = [];\r\n          for (let i in res.data.results) {\r\n            let tmp = {};\r\n            tmp.id = res.data.results[i].id;\r\n            tmp.label = res.data.results[i].patient;\r\n            tmp.doc = res.data.results[i].doctorName;\r\n            this.templatelist.push(tmp);\r\n          }\r\n          this.totalsize = res.data.count;\r\n        })\r\n        .catch((err) => {\r\n          alert(err);\r\n        });\r\n    },\r\n    //跳转详情界面\r\n    handleEdit(index, row) {\r\n      this.$router.push({\r\n        path: \"/dati/showdatidetail\",\r\n        query: { id: row.id },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}